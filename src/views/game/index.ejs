<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberStore - Trang Chá»§</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <header>
        <div class="header-inner">
<<<<<<< Updated upstream
            
            <div style="display: flex; align-items: center;">
                <a href="/"><h1>ğŸ® CyberStore</h1></a>

                <div class="dropdown">
                    <button class="dropbtn">ğŸ“‚ Danh sÃ¡ch thá»ƒ loáº¡i â–¼</button>
                    <div class="dropdown-content">
                        <a href="/">ğŸ’  Táº¥t cáº£ game</a>
                        
                        <% if (typeof categories !== 'undefined') { %>
                            <% categories.forEach(cat => { %>
                                <a href="/?category=<%= cat %>">ğŸ® <%= cat %></a>
                            <% }) %>
                        <% } %>
                    </div>
                </div>
            </div>

            <form action="/" method="GET" class="search-box">
                <input type="text" name="search" placeholder="TÃ¬m game..." value="<%= searchQuery %>">
                <button type="submit">ğŸ”</button>
            </form>

=======
            <div style="display: flex; align-items: center;">
                <a href="/"><h1>ğŸ® CyberStore</h1></a>
                <div class="dropdown">
                    <button class="dropbtn">ğŸ“‚ Danh sÃ¡ch thá»ƒ loáº¡i â–¼</button>
                    <div class="dropdown-content">
                        <a href="/">ğŸ’  Táº¥t cáº£ game</a>
                        <% if (typeof categories !== 'undefined') { %>
                            <% categories.forEach(cat => { %>
                                <a href="/?category=<%= cat %>">ğŸ® <%= cat %></a>
                            <% }) %>
                        <% } %>
                    </div>
                </div>
            </div>

            <form action="/" method="GET" class="search-box">
                <input type="text" name="search" placeholder="TÃ¬m game..." value="<%= searchQuery %>">
                <button type="submit">ğŸ”</button>
            </form>

>>>>>>> Stashed changes
            <div class="nav-group">
                <% if (!currentUser) { %>
                    <a href="/login" class="btn btn-login">ÄÄƒng nháº­p</a>
                <% } else { %>
                    <% if (currentUser.role === 'admin') { %>
                        <span style="color: #bb86fc; font-weight: bold;">ğŸ›¡ï¸ BOSS</span>
<<<<<<< Updated upstream
                        
                        <a href="/admin/users" class="btn btn-admin" title="Quáº£n lÃ½ ngÆ°á»i dÃ¹ng">ğŸ‘¥ Users</a>
                        <a href="/admin/orders" class="btn btn-admin" title="Quáº£n lÃ½ Ä‘Æ¡n hÃ ng">ğŸ“¦ ÄÆ¡n</a>
                        <a href="/admin/add-game" class="btn btn-admin" title="ThÃªm game má»›i">+ ThÃªm</a>
                    
                    <% } else { %>
                        <span style="color: white;">Hi, <%= currentUser.username %></span>
                    <% } %>
                    
=======
                        <a href="/admin/users" class="btn btn-admin" title="User">ğŸ‘¥</a>
                        <a href="/admin/orders" class="btn btn-admin" title="ÄÆ¡n">ğŸ“¦</a>
                        <a href="/admin/add-game" class="btn btn-admin" title="ThÃªm">+</a>
                    <% } else { %>
                        <span style="color: white;">Hi, <%= currentUser.username %></span>
                    <% } %>
>>>>>>> Stashed changes
                    <form action="/logout" method="POST" style="display:inline;">
                        <button type="submit" class="btn btn-delete">ThoÃ¡t</button>
                    </form>
                <% } %>
<<<<<<< Updated upstream
                
=======
>>>>>>> Stashed changes
                <% let totalQty = 0; if (cart) cart.forEach(i => totalQty += i.quantity); %>
                <a href="/cart" class="btn btn-cart">ğŸ›’ (<%= totalQty %>)</a>
            </div>
        </div>
    </header>

<<<<<<< Updated upstream

=======
>>>>>>> Stashed changes
    <div class="container main-layout">
        
        <% if (currentPage == 1 && !searchQuery && !currentCategory) { %>
        <div class="slider-container" style="margin-top: 0; margin-bottom: 30px;">
            <div class="slider-wrapper" id="slider">
<<<<<<< Updated upstream
                <div class="slide">
                    <img src="https://image.api.playstation.com/vulcan/ap/rnd/202207/1210/4xJ8XB3bi888QTLZYdl7Oi0s.png">
                    <div class="slide-content"><h2>God of War RagnarÃ¶k</h2></div>
                </div>
                <div class="slide">
                    <img src="https://image.api.playstation.com/vulcan/ap/rnd/202110/2000/phvVT0qZfcRms5qDAk0SI3CM.png">
                    <div class="slide-content"><h2>Elden Ring</h2></div>
                </div>
                <div class="slide">
                    <img src="https://media-rockstargames-com.akamaized.net/tina-uploads/posts/k419k41k9r19/9560565730240d3653b8755850444800c23477e0.jpg">
                    <div class="slide-content"><h2>GTA V</h2></div>
                </div>
=======
                <div class="slide"><img src="https://image.api.playstation.com/vulcan/ap/rnd/202207/1210/4xJ8XB3bi888QTLZYdl7Oi0s.png"><div class="slide-content"><h2>God of War RagnarÃ¶k</h2></div></div>
                <div class="slide"><img src="https://image.api.playstation.com/vulcan/ap/rnd/202110/2000/phvVT0qZfcRms5qDAk0SI3CM.png"><div class="slide-content"><h2>Elden Ring</h2></div></div>
                <div class="slide"><img src="https://media-rockstargames-com.akamaized.net/tina-uploads/posts/k419k41k9r19/9560565730240d3653b8755850444800c23477e0.jpg"><div class="slide-content"><h2>GTA V</h2></div></div>
>>>>>>> Stashed changes
            </div>
        </div>
        <% } %>

        <% if (currentCategory) { %>
<<<<<<< Updated upstream
            <h2 style="color: var(--accent-color); border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px;">
                ğŸ“‚ Äang xem thá»ƒ loáº¡i: <%= currentCategory %>
            </h2>
=======
            <h2 style="color: var(--accent-color); border-bottom: 1px solid #333; padding-bottom: 10px;">ğŸ“‚ Äang xem: <%= currentCategory %></h2>
>>>>>>> Stashed changes
        <% } %>

        <div class="game-grid">
            <% if (games.length === 0) { %>
<<<<<<< Updated upstream
                <div style="text-align: center; width: 100%; padding: 50px; background: #1e1e1e; border-radius: 10px;">
                    <h3>ğŸ˜¢ KhÃ´ng tÃ¬m tháº¥y game nÃ o</h3>
                    <p>Thá»­ chá»n danh má»¥c khÃ¡c hoáº·c tÃ¬m kiáº¿m láº¡i nhÃ©.</p>
                    <a href="/" class="btn btn-buy" style="width: auto;">Xem táº¥t cáº£</a>
                </div>
=======
                <div style="text-align: center; width: 100%; padding: 50px; background: #1e1e1e;"><h3>ğŸ˜¢ KhÃ´ng tÃ¬m tháº¥y game</h3></div>
>>>>>>> Stashed changes
            <% } else { %>
                <% games.forEach(game => { %>
                    <div class="card">
                        <a href="/game/<%= game._id %>"><img src="<%= game.imageUrl %>"></a>
<<<<<<< Updated upstream
                        
                        <div class="card-body">
                            <div class="card-title"><%= game.title %></div>
                            
                            <small style="color: #888; display: block; margin-bottom: 5px;">ğŸ“‚ <%= game.category %></small>
                            
                            <div class="card-price">$<%= game.price %></div>
                            
                            <a href="/checkout/quick/<%= game._id %>" class="btn btn-buy">Mua Ngay</a>
                            
=======
                        <div class="card-body">
                            <div class="card-title"><%= game.title %></div>
                            
                            <div class="card-price">$<%= game.price %></div>
                            
                            <a href="/checkout/quick/<%= game._id %>" class="btn btn-buy">Mua Ngay</a>
>>>>>>> Stashed changes
                            <a href="/game/<%= game._id %>" class="btn btn-detail">Chi tiáº¿t</a>

                            <% if (currentUser && currentUser.role === 'admin') { %>
                                <div class="admin-controls">
                                    <a href="/admin/edit/<%= game._id %>" class="btn btn-edit">Sá»­a</a>
<<<<<<< Updated upstream
                                    <form action="/admin/delete/<%= game._id %>" method="POST" onsubmit="return confirm('XÃ³a game nÃ y?');" style="width: 48%;">
=======
                                    <form action="/admin/delete/<%= game._id %>" method="POST" onsubmit="return confirm('XÃ³a?');" style="width: 48%;">
>>>>>>> Stashed changes
                                        <button type="submit" class="btn btn-delete" style="width: 100%;">XÃ³a</button>
                                    </form>
                                </div>
                            <% } %>
                        </div>
                    </div>
                <% }) %>
            <% } %>
        </div>
        
        <% if (totalPages > 1) { %>
            <div class="pagination">
                <% for(let i = 1; i <= totalPages; i++) { %>
<<<<<<< Updated upstream
                    <a href="/?page=<%= i %>&category=<%= currentCategory %>&search=<%= searchQuery %>" 
                       class="<%= currentPage == i ? 'active' : '' %>"><%= i %></a>
                <% } %>
            </div>
        <% } %>
        <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>ğŸ® CyberStore</h3>
                <p>
                    Ná»n táº£ng phÃ¢n phá»‘i game báº£n quyá»n hÃ ng Ä‘áº§u. 
                    ChÃºng tÃ´i cam káº¿t mang Ä‘áº¿n nhá»¯ng tá»±a game Ä‘á»‰nh cao vá»›i má»©c giÃ¡ tá»‘t nháº¥t vÃ  dá»‹ch vá»¥ há»— trá»£ 24/7.
                </p>
            </div>

            <div class="footer-section">
                <h3>LiÃªn Káº¿t</h3>
                <ul>
                    <li><a href="/">â€º Trang chá»§</a></li>
                    <li><a href="/cart">â€º Giá» hÃ ng cá»§a báº¡n</a></li>
                    <li><a href="/login">â€º ÄÄƒng nháº­p / ÄÄƒng kÃ½</a></li>
                    <% if (currentUser && currentUser.role === 'admin') { %>
                        <li><a href="/admin/orders" style="color: var(--accent-color);">â€º Quáº£n trá»‹ viÃªn</a></li>
                    <% } %>
                </ul>
            </div>

            <div class="footer-section">
                <h3>LiÃªn Há»‡</h3>
                <p>ğŸ“ 123 ÄÆ°á»ng Gaming, Quáº­n 1, TP.HCM</p>
                <p>ğŸ“§ hotro@cyberstore.com</p>
                <p>ğŸ“ 1900 100 CÃ³</p>
                <p>â° Má»Ÿ cá»­a: 8:00 - 22:00</p>
            </div>
        </div>

        <div class="copyright">
            &copy; 2024 CyberStore. All rights reserved. Designed by You.
        </div>
    </footer>
=======
                    <a href="/?page=<%= i %>&category=<%= currentCategory %>&search=<%= searchQuery %>" class="<%= currentPage == i ? 'active' : '' %>"><%= i %></a>
                <% } %>
            </div>
        <% } %>
>>>>>>> Stashed changes
    </div>

    <script>
        const slider = document.getElementById('slider');
<<<<<<< Updated upstream
        if (slider) {
            let index = 0;
            setInterval(() => {
                index++;
                if (index > 2) index = 0; // Slider cÃ³ 3 áº£nh (0, 1, 2)
                slider.style.transform = `translateX(-${index * 100}%)`;
            }, 3000); // Chuyá»ƒn áº£nh má»—i 3 giÃ¢y
        }
=======
        if (slider) { let idx = 0; setInterval(() => { idx++; if(idx>2) idx=0; slider.style.transform=`translateX(-${idx*100}%)`; }, 3000); }
>>>>>>> Stashed changes
    </script>
</body>
</html>